## 6. UI: фронтенд по макету Figma (MVP)

**Источник дизайна:** [Eco UI — Figma](https://www.figma.com/design/moChaqh8shWNCiTzTCVhBA/Untitled--Copy-?node-id=0-1). Реализовать экраны строго по этому макету; при вёрстке использовать Figma MCP для соответствия компонентам, отступам и типографике.

### 6.1 Структура интерфейса по макету Figma

**Брендинг и общий вид:**
- Логотип и название: **ViabCheck** (шрифт Söhne Breit, крупный).
- Слоган в шапке: *«Figure out how to finance insulating your building without losing money.»*
- Фон: наклонный градиент (угол 142°, оранжевый #FF5005 → белый).
- Шрифты: Sohne (основной текст), Söhne Breit (логотип). Цвет текста — чёрный на градиенте; кнопки — заливка чёрная, текст белый.
- Шапка: логотип слева, слоган по центру, иконка меню справа.

**Визард из 4 шагов:** степпер с номерами 1–2–3–4 (активный шаг — заливка чёрная с белой цифрой, неактивные — контур с оранжевой заливкой), соединённые линией.

**Шаг 1 — «Where do you live» (Page 1):**
- Тексты: *«To understand your situation, we need some data from you.»* и *«First, let us know where do you live»*.
- Форма: четыре поля с подписями — **Postcode**, **Street**, **Number**, **City**. Поля ввода — прямоугольники (полупрозрачный белый фон, чёрная обводка 1px). Порядок в макете: Street, Postcode, Number, City.
- Логика: сначала ввод **Postcode** → запрос GET /api/buildings/streets?postal_code=… → выпадающий список **Street**; после выбора улицы — GET /api/buildings?postal_code=…&street=… → выбор **Number** (или ввод); **City** подставляется из данных здания или оставляется для редактирования.
- Кнопка: **Next** (форма «таблетки», border-radius 175px).

**Шаг 2 — «Define retrofits needed» (viability calculator):**
- Заголовки: *«viability calculator»*, *«define retrofits needed»*.
- Блок **Address:** postcode, city, street, number (значения с шага 1, при необходимости только для чтения или правки).
- Блок **Building Details:** last facade renovation date, building type, number of units, heating type, windows type, roof insulation — данные подставляются из API по выбранному зданию (GET /api/building/:address), поля при необходимости редактируемые.
- Блок **Apartment Details:** apartment size, annual heating consumption, annual heating cost, number of windows, **Kaltmiete** — часть из профиля пользователя (warmmiete, kaltmiete, apartment_area_m2) и/или из здания.
- Степпер 1–2 на экране (подшаг внутри шага 2 или навигация).

**Шаг 3 — «Retrofit suggestion» (калькулятор мер):**
- Заголовки: *«retrofit suggestion»*, *«retrofit calculator»*.
- Список мер с колонками/блоками: название меры (например **Window Replacement**, **Roof Insulation**, **Facade**), cost (диапазоны вроде 500–900 Eur per window, 2000–6000 divided per apartment, 8000–20000 divided per apartment), energy saving %, subsidy, savings on the energy, lowest rent increase. Данные — из GET /api/building/:address/calculator; раздельно показывать меры DIY и меры для всего здания (requires_whole_building_landlord).
- Блок **«we get:»** — итоговые показатели: construction year, refurbishment state (1–3), yearly heat demand (из данных здания/расчёта).

**Шаг 4:** по макету уточняется (страница может быть в файле); логично — регистрация/заявка или итог.

**Визуал полей:** прямоугольники с заливкой rgba(255,255,255,0.3), stroke 1px чёрный; подпись над полем (Sohne 27px в макете).

### 6.2 Связь с API и данными

- Фронтенд (например `frontend/`) вызывает только FastAPI. Шаг 1 → BuildingStore (streets по postal_code, затем здания по postal_code + street); шаг 2 → данные здания и профиля; шаг 3 → GET /api/building/:address/calculator, при необходимости POST /api/ai-recommendations для расширенных рекомендаций.
- Карта (если есть в макете или добавляется): маркеры по координатам из зданий; цифра в маркере — количество пользователей по building_id (UserStore).
- Личный кабинет / профиль: warmmiete, kaltmiete, площадь квартиры, profile_updated_at — соответствовать полям Apartment Details и Kaltmiete в макете.
- Рекомендации (AI): при использовании POST /api/ai-recommendations отображать 3 DIY и 3 капитальных меры в том же стиле, что и «retrofit suggestion»; для общедомовых — пояснение «работа для всего здания — нужна договорённость с арендодателем».

---
