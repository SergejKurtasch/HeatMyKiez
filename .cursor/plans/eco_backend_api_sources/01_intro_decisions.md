# План реализации: Eco — бэкенд, хранение данных, интеграция с фронтом

## Итоги уточнений


| Вопрос                 | Решение                                                                                                                                                                                                                                                                          |
| ---------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Источник данных здания | Только [data/buildings.csv](data/buildings.csv): чтение в память при старте; никаких внешних API (ETHOS не используется)                                                                                                                                                           |
| Хранение               | **Только CSV:** здания и меры — из [data/buildings.csv](data/buildings.csv) и [data/retrofit_measures.csv](data/retrofit_measures.csv) в память; пользователи, заявки, рекомендации — в [data/users.csv](data/users.csv), [data/requests.csv](data/requests.csv), [data/recommendations.csv](data/recommendations.csv). Слой Store. |
| Фронтенд               | Figma + проект из Codex; интеграция кода из Codex в текущий проект                                                                                                                                                                                                               |
| Заявки (requests)      | Одна запись на пользователя: заявка на участие в коллективном ремонте (user_id, building_id, status)                                                                                                                                                                           |
| Координаты             | Только хранение lat/lon в полях, PostGIS не использовать                                                                                                                                                                                                                         |
| GET /api/building      | Адрес передаётся одним slug в path (например `12557-luisenstr-33`)                                                                                                                                                                                                               |
| Адрес при регистрации  | Автодополнение/выбор из зданий (данные из buildings.csv) — сохраняем `building_id`                                                                                                                                                                                                |
| **Выбор адреса**       | **Каскад из [data/buildings.csv](data/buildings.csv):** 1) пользователь вводит индекс (postal_code) → программа показывает список улиц, доступных для этого индекса; 2) пользователь выбирает улицу → программа показывает номера домов (здания) для этой пары индекс+улица; 3) выбор дома даёт `building_id` / `address_slug`. |
| Письма «соседи»        | На хакатоне только логировать в консоль; реальную почту — позже                                                                                                                                                                                                                  |
| Фаза UI                | MVP — фронтенд по макету из **Figma** ([Eco UI](https://www.figma.com/design/moChaqh8shWNCiTzTCVhBA/Untitled--Copy-?node-id=0-1)): бренд ViabCheck, визард 4 шагов (адрес → define retrofits → retrofit suggestion → шаг 4), градиентный фон, поля Postcode/Street/Number/City, Building/Apartment Details, калькулятор мер; подключение к FastAPI. |
| **Язык**               | **Весь пользовательский интерфейс, код и комментарии — на английском** (UI labels, messages, code, docstrings, comments)                                                                                                                                                         |


---
